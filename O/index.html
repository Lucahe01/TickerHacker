<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realty Income Corp. (O) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">Realty Income (O) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Model</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Model</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Realty Income: The Monthly Dividend Company¬Æ</h2>
            <p class="content-text mb-6">Realty Income Corporation (NYSE: O) is a real estate investment trust (REIT) that has built its brand and reputation on a simple, powerful promise: providing investors with dependable monthly dividends. As an S&P 500 company and a member of the elite S&P 500 Dividend Aristocrats¬Æ index, Realty Income owns and manages a massive, diversified portfolio of over 15,600 commercial properties. Its business model is designed for stability and predictability, making it a cornerstone holding for income-focused investors. This analysis explores Realty Income's durable business model, its financial performance, and its strategic positioning in the commercial real estate market.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Business Strategy</h3>
                    <p class="content-text mb-4">Realty Income's strategy is focused on conservative growth and unwavering dividend payments:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Triple-Net Lease Model:</strong> Acquiring and managing freestanding, single-tenant properties under long-term, triple-net leases, which shifts most property-level expenses to the tenant.</li>
                        <li><strong class="font-semibold text-gray-700">Diversification:</strong> Maintaining a highly diversified portfolio across industries, tenants, and geographies to mitigate risk.</li>
                        <li><strong class="font-semibold text-gray-700">Relationship-Driven Acquisitions:</strong> Leveraging its scale, reputation, and access to capital to be a preferred capital partner for growing businesses looking to unlock the value of their real estate.</li>
                        <li><strong class="font-semibold text-gray-700">Fortress Balance Sheet:</strong> Maintaining a conservative capital structure with an investment-grade credit rating, ensuring ample liquidity and access to capital.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">Consecutive Monthly Dividends Paid</p>
                    <p class="kpi-value text-violet-600">660+</p>
                    <p class="content-text text-sm mt-2">This incredible track record of dependable monthly dividends is the foundation of the company's identity and its appeal to income investors.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How Realty Income Makes Money: A Diversified Real Estate Empire</h2>
            <p class="content-text mb-6">Realty Income's business is built on acquiring high-quality commercial properties and leasing them to a diverse range of tenants under long-term agreements. While traditionally known for its retail focus, the company has strategically expanded into other resilient property types to enhance diversification and growth.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="retail">Retail</button>
                    <button class="segment-tab-button" data-target="industrial">Industrial</button>
                    <button class="segment-tab-button" data-target="other">Gaming & Other</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="retailContent" class="segment-content">
                    <h3 class="subsection-title">Retail Properties</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">This is the largest segment of the portfolio, representing nearly <span class="highlight">80%</span> of rental revenue. The strategy focuses on tenants with a service, non-discretionary, and/or low price point component to their business, making them more resilient to e-commerce pressures and economic downturns.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Key Industries:</strong> Grocery stores, convenience stores, dollar stores, and quick-service restaurants.</li>
                                <li><strong>Top Tenants:</strong> Walgreens, Dollar General, 7-Eleven, and Sainsbury's (UK).</li>
                             </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="portfolioBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
                <div id="industrialContent" class="segment-content hidden">
                    <h3 class="subsection-title">Industrial Properties</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">This is a key growth area for Realty Income, now representing over <span class="highlight">14%</span> of the portfolio. The focus is on acquiring and leasing industrial and distribution properties to investment-grade, Fortune 1000 companies, capitalizing on the growth of e-commerce and supply chain logistics.</p>
                        </div>
                        <div class="kpi-card bg-sky-50 border-sky-200">
                             <p class="kpi-label">Strategic Growth</p>
                             <p class="kpi-value text-sky-600">Diversification</p>
                             <p class="content-text text-sm mt-2">The expansion into industrial real estate provides exposure to the secular tailwinds of e-commerce and modern supply chains.</p>
                         </div>
                    </div>
                </div>
                 <div id="otherContent" class="segment-content hidden">
                    <h3 class="subsection-title">Gaming & Other Properties</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">Realty Income has made a strategic entry into the gaming sector, acquiring high-quality casino real estate. This and other property types like manufacturing and office provide further diversification to the portfolio.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Gaming:</strong> Includes premier casino properties like the Encore Boston Harbor.</li>
                                 <li><strong>Data Centers:</strong> A new frontier through a joint venture with Digital Realty.</li>
                            </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="industryBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Realty Income's financial performance is a model of consistency and predictability. The company's long-term, triple-net lease structure generates a stable and growing stream of rental revenue. This revenue is translated into a key metric for REITs, Adjusted Funds From Operations (AFFO), which is the cash flow used to support the company's famous monthly dividend.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (2020-2024)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="affoPerShare">AFFO per Share ($)</option>
                            <option value="dividendsPerShare">Dividends per Share ($)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($M)</option>
                             <option value="affoPerShare">AFFO per Share ($)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The financial charts show a history of steady growth in revenue and, most importantly for a REIT, AFFO per share, which directly supports the ever-increasing dividend.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Power of Scale and Cost of Capital</h2>
            <p class="content-text mb-6">Realty Income's competitive advantage is built on its immense scale, its low cost of capital, and its unparalleled reputation as a reliable capital partner. These factors create a formidable moat in the net lease real estate industry.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Cost of Capital Advantage:</strong> With a strong investment-grade credit rating (A3/A-), Realty Income can borrow money more cheaply than almost all of its competitors. This allows it to acquire properties at better prices and still generate attractive returns.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Scale and Diversification:</strong> The sheer size and diversification of Realty Income's portfolio across thousands of properties, tenants, and industries provide a level of stability and risk mitigation that smaller competitors cannot match.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Brand and Relationships:</strong> The "Realty Income" brand is synonymous with reliability. The company's long track record and deep relationships with tenants and developers give it access to a steady stream of off-market and relationship-driven acquisition opportunities.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">W. P. Carey (WPC):</strong> The second-largest net lease REIT, with a similar diversified portfolio but a greater emphasis on industrial and warehouse properties.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">National Retail Properties (NNN):</strong> A high-quality net lease REIT with a strong focus on retail properties in the United States.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Private Equity & Institutional Investors:</strong> A large and growing universe of private capital competing to acquire high-quality, net-leased real estate assets.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Realty Income is a blue-chip company in the real estate sector, offering a unique combination of stability, income, and modest growth. The primary risk for the company is the broader macroeconomic environment, particularly interest rates.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities üöÄ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Dependable Monthly Income:</strong> The primary reward is the reliable and growing stream of monthly dividend income, backed by a high-quality, diversified real estate portfolio.</li>
                        <li><strong>International and Sector Expansion:</strong> Continued expansion into Europe and new property sectors like data centers provides a long runway for future growth.</li>
                        <li><strong>Scale as an Advantage:</strong> As a large and well-capitalized player, Realty Income is well-positioned to acquire large portfolios and act as a consolidator in the fragmented net lease market.</li>
                        <li><strong>Defensive Characteristics:</strong> The company's focus on non-discretionary and service-oriented tenants provides resilience during economic downturns.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges üìâ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Interest Rate Sensitivity:</strong> As a REIT, Realty Income's stock price is highly sensitive to changes in interest rates. Rising rates can make the dividend yield less attractive compared to bonds and increase the company's cost of capital.</li>
                        <li><strong>Tenant Credit Risk:</strong> While the portfolio is well-diversified, a major tenant bankruptcy or a downturn in a key industry could impact rental revenue.</li>
                        <li><strong>Law of Large Numbers:</strong> As the company gets larger, it becomes more difficult to find enough high-quality acquisitions to move the growth needle significantly.</li>
                        <li><strong>E-commerce Disruption:</strong> While the company has focused on resilient retail, the long-term threat of e-commerce to brick-and-mortar retail remains a consideration.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Realty Income Corporation public filings (SEC 10-K & 10-Q reports) and credible financial data providers as of June 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = 'Inter, sans-serif';
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            stone: '#E7E5E4',
            gray: '#4B5563',
            darkViolet: '#8B5CF6',
            darkSky: '#38BDF8',
            teal: '#5EEAD4',
            pink: '#F472B6'
        };

        // Portfolio Breakdown Chart
        const portfolioBreakdownCtx = document.getElementById('portfolioBreakdownChart').getContext('2d');
        new Chart(portfolioBreakdownCtx, {
            type: 'doughnut',
            data: {
                labels: ['Retail', 'Industrial', 'Gaming & Other'],
                datasets: [{
                    data: [79.9, 14.4, 5.7], // Q1 2025 percentages
                    backgroundColor: [CHART_COLORS.violet, CHART_COLORS.sky, CHART_COLORS.teal],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Portfolio by Property Type (Q1 2025)' } }
            }
        });
        
        // Industry Breakdown Chart
        const industryBreakdownCtx = document.getElementById('industryBreakdownChart').getContext('2d');
        new Chart(industryBreakdownCtx, {
            type: 'pie',
            data: {
                labels: ['Grocery', 'Convenience Stores', 'Dollar Stores', 'Home Improvement', 'Restaurants', 'Other'],
                datasets: [{
                    label: 'Top Industries by Revenue',
                    data: [12, 10, 8, 7, 6, 57],
                    backgroundColor: [CHART_COLORS.violet, CHART_COLORS.sky, CHART_COLORS.teal, CHART_COLORS.orange, CHART_COLORS.pink, CHART_COLORS.stone],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Top Industries by Revenue' } }
            }
        });

        // --- FINANCIAL CHARTS LOGIC ---

        // Yearly Data Store
        const yearlyDataStore = {
            labels: ['FY20', 'FY21', 'FY22', 'FY23', 'FY24'],
            totalRevenue: { data: [1.65, 2.08, 3.34, 4.08, 5.27], label: 'Total Revenue ($B)', color: CHART_COLORS.violet },
            affoPerShare: { data: [3.39, 3.59, 3.92, 4.00, 4.19], label: 'AFFO per Share ($)', color: CHART_COLORS.sky },
            dividendsPerShare: { data: [2.81, 2.83, 2.97, 3.07, 3.22], label: 'Dividends per Share ($)', color: CHART_COLORS.teal }
        };

        // Quarterly Data Store
        const quarterlyDataStore = {
            labels: ['Q2 23', 'Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25'],
            totalRevenue: { data: [968, 1039, 1070, 1260, 1280, 1310, 1350, 1381], label: 'Total Revenue ($M)', color: CHART_COLORS.violet },
            affoPerShare: { data: [0.99, 1.02, 1.00, 1.03, 1.04, 1.05, 1.05, 1.06], label: 'AFFO per Share ($)', color: CHART_COLORS.orange }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            const isLineChart = metricKey === 'affoPerShare' || metricKey === 'dividendsPerShare';

            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: [{
                        label: metricDetails.label,
                        data: metricDetails.data,
                        backgroundColor: isLineChart ? 'transparent' : metricDetails.color + 'BF',
                        borderColor: metricDetails.color,
                        borderWidth: 2,
                        type: isLineChart ? 'line' : 'bar',
                        fill: !isLineChart,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { 
                        y: { 
                            beginAtZero: false, 
                            title: { display: true, text: metricDetails.label.split('(')[1].replace(')','') }
                        } 
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

