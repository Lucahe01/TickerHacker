<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chevron Corporation (CVX) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #1E40AF; /* blue-800 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #DC2626; /* red-600 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #1E40AF; /* blue-800 */
            color: #FFFFFF;
            border-color: #1D4ED8; /* blue-700 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #1E40AF; /* blue-800 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #1E40AF;">Chevron Corp. (CVX) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Chevron: An Integrated Energy Leader</h2>
            <p class="content-text mb-6">Chevron Corporation is one of the world's leading integrated energy companies. As a successor to Standard Oil, it has a long history of powering global progress. Chevron's business spans the entire energy value chain, from exploring for and producing crude oil and natural gas (Upstream) to refining them into valuable fuels and products that are then marketed to consumers (Downstream). The company's strategy is to safely deliver "higher returns and lower carbon" by optimizing its core oil and gas assets while simultaneously building new businesses in lower-carbon solutions like renewable fuels, hydrogen, and carbon capture. This analysis explores Chevron's robust business model, its financial discipline, and its strategic positioning in a complex and evolving energy world.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Business Strategy</h3>
                    <p class="content-text mb-4">Chevron's strategy is built on several key pillars:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Capital and Cost Discipline:</strong> Efficiently investing in high-return projects while maintaining a strict focus on cost management to maximize cash flow through commodity cycles.</li>
                        <li><strong class="font-semibold text-gray-700">Grow Advantaged Production:</strong> Focusing on growing production from its most profitable and efficient assets, such as the Permian Basin in the U.S. and the Tengiz field in Kazakhstan.</li>
                        <li><strong class="font-semibold text-gray-700">Superior Shareholder Returns:</strong> A commitment to returning excess cash to shareholders through a reliable and growing dividend, supplemented by significant share buybacks.</li>
                        <li><strong class="font-semibold text-gray-700">Advance a Lower Carbon Future:</strong> Investing in and scaling new energy technologies to reduce the carbon intensity of its operations and provide lower-carbon solutions for its customers.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-blue-50 border-blue-200">
                    <p class="kpi-label">2024 Worldwide Production</p>
                    <p class="kpi-value text-blue-600">3.12 MMBPD</p>
                    <p class="content-text text-sm mt-2">Represents record annual net oil-equivalent production, showcasing strong operational performance and project execution.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How Chevron Makes Money: Upstream & Downstream</h2>
            <p class="content-text mb-6">Chevron's operations are primarily divided into two interdependent business segments: Upstream, which finds and produces energy, and Downstream, which processes and sells it. This integrated model helps the company manage commodity price volatility and capture value across the entire energy lifecycle. A smaller, but growing, portfolio of lower-carbon ventures complements these core businesses.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="upstream">Upstream</button>
                    <button class="segment-tab-button" data-target="downstream">Downstream & Chemicals</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="upstreamContent" class="segment-content">
                    <h3 class="subsection-title">Upstream</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">The Upstream segment is responsible for the exploration, development, and production of crude oil and natural gas. This is Chevron's primary profit driver, with earnings directly tied to production volumes and global commodity prices. Key assets are located in the U.S. (Permian Basin, Gulf of Mexico), Australia, Kazakhstan, and other strategic regions.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Key Activities:</strong> Exploring for new energy reserves, drilling wells, and operating facilities to produce and transport crude oil and natural gas.</li>
                                <li><strong>Growth Projects:</strong> Major investments in large-scale projects like the Future Growth Project in Kazakhstan and deepwater developments in the Gulf of Mexico.</li>
                                 <li><strong>Revenue Drivers:</strong> Oil and natural gas prices (e.g., Brent crude, Henry Hub gas) and production volumes (measured in barrels of oil equivalent per day).</li>
                            </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="segmentRevenueBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
                <div id="downstreamContent" class="segment-content hidden">
                    <h3 class="subsection-title">Downstream & Chemicals</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">The Downstream segment refines crude oil into finished products, markets them, and manufactures and sells petrochemicals. This segment's profitability is driven by refining margins‚Äîthe difference between the cost of crude oil and the selling price of refined products like gasoline and jet fuel. This provides a natural hedge when oil prices fall.</p>
                            <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Refining:</strong> Operates a global network of refineries that turn crude oil into transportation fuels, lubricants, and other products.</li>
                                <li><strong>Marketing:</strong> Sells gasoline and other products through a network of retail stations under brands like Chevron, Texaco, and Caltex.</li>
                                <li><strong>Chemicals:</strong> Manufactures and sells petrochemicals and additives through joint ventures like Chevron Phillips Chemical Company.</li>
                            </ul>
                        </div>
                        <div class="kpi-card bg-red-50 border-red-200 p-6 flex flex-col justify-center">
                            <p class="kpi-label">Return on Capital Employed (2024)</p>
                            <p class="kpi-value text-red-600">10.1%</p>
                            <p class="content-text text-sm mt-2">A key metric demonstrating the efficiency and profitability of Chevron's capital investments across its business.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Chevron's financial performance is inherently linked to global energy markets but is underpinned by strong operational execution and disciplined capital management. The company prioritizes generating robust cash flow to fund its operations, invest for the future, and consistently return cash to shareholders. Explore key financial trends below to see how the company navigates the cycles of the energy industry.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (2020-2024)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="netIncome">Net Income ($B)</option>
                            <option value="opCashFlow">Operating Cash Flow ($B)</option>
                            <option value="capitalExpenditures">Capital Expenditures ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="netIncome">Net Income ($B)</option>
                            <option value="opCashFlow">Operating Cash Flow ($B)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">Financial trends clearly show the impact of commodity price cycles, with a significant recovery in revenue and profitability from the lows of 2020. Strong cash flow generation remains a consistent feature, funding both growth and shareholder returns.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Integrated Supermajor</h2>
            <p class="content-text mb-6">Chevron's competitive advantage, or "moat," is formidable, built on immense scale, a diverse and high-quality asset base, and deep technical expertise. These factors create high barriers to entry and allow the company to weather the inherent volatility of the global energy market.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Economies of Scale:</strong> As one of the world's largest energy companies, Chevron benefits from massive scale in its operations, from negotiating with suppliers to financing multi-billion dollar projects. This scale drives down unit costs and enhances profitability.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Advantaged Asset Portfolio:</strong> Chevron owns a portfolio of long-life, low-cost oil and gas fields, such as its assets in the Permian Basin. These fields can generate significant cash flow even in lower price environments.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Vertical Integration:</strong> The integration of Upstream and Downstream businesses provides a natural hedge. When crude oil prices are low (hurting Upstream), its Downstream refining segment benefits from cheaper feedstock. This integration smooths out earnings across the commodity cycle.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-blue-500 mr-2 mt-1">‚ûî</span>
                             <span class="content-text"><strong class="text-gray-700">Technical Expertise:</strong> Decades of experience have given Chevron world-class technical and project management capabilities, allowing it to undertake complex, large-scale energy projects that few other companies can.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Other Supermajors:</strong> Head-to-head competition with other integrated giants like ExxonMobil, Shell, BP, and TotalEnergies for access to the best resources and for market share in refined products.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">National Oil Companies (NOCs):</strong> State-owned oil companies like Saudi Aramco and PetroChina control vast reserves and represent significant competition on a global scale.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-red-500 mr-2 mt-1">‚óè</span>
                             <span class="content-text"><strong class="text-gray-700">Independent Producers & Refiners:</strong> Competes with smaller, non-integrated companies that specialize in specific areas, such as pure-play shale producers or independent refiners.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Chevron's future involves navigating the dual challenge of meeting the world's growing demand for affordable, reliable energy while simultaneously addressing the risks and opportunities of the global energy transition. Its success will depend on disciplined execution of its traditional business and prudent investment in lower-carbon technologies.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities üöÄ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Sustained Energy Demand:</strong> Global demand for oil and natural gas is expected to remain robust for decades, particularly in developing economies, providing a long runway for its core business.</li>
                        <li><strong>Strong Shareholder Returns:</strong> A top-tier dividend yield backed by decades of consecutive annual increases, combined with a large share repurchase program, provides a compelling return proposition.</li>
                        <li><strong>Advantaged Portfolio Growth:</strong> High-margin growth expected from premier assets in the Permian Basin and other key international projects.</li>
                        <li><strong>Lower Carbon Leadership:</strong> Opportunity to leverage its existing assets, expertise, and customer relationships to build a profitable lower-carbon business in areas like renewable fuels, hydrogen, and carbon capture.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges üìâ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Commodity Price Volatility:</strong> Earnings and cash flow are highly sensitive to unpredictable fluctuations in crude oil and natural gas prices, driven by geopolitical events and global economic conditions.</li>
                        <li><strong>Energy Transition & Regulatory Risk:</strong> Increasing pressure from governments and investors to decarbonize could lead to stricter regulations, carbon taxes, and litigation, potentially increasing costs and stranding assets.</li>
                        <li><strong>Geopolitical Instability:</strong> As a global operator, Chevron's assets and operations are exposed to political risks and instability in various countries around the world.</li>
                        <li><strong>Project Execution Risk:</strong> The business relies on the successful and timely completion of massive, multi-billion dollar capital projects, which carry inherent risks of delays and cost overruns.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Chevron Corporation public filings and credible financial news sources as of June 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (!mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = 'Inter, sans-serif';
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            blue: '#2563EB',
            red: '#DC2626',
            sky: '#38BDF8',
            amber: '#F59E0B',
            gray: '#4B5563',
        };

        // Segment Revenue Breakdown Chart (Pie)
        const segmentRevenueCtx = document.getElementById('segmentRevenueBreakdownChart').getContext('2d');
        new Chart(segmentRevenueCtx, {
            type: 'doughnut',
            data: {
                labels: ['Upstream', 'Downstream'],
                datasets: [{
                    label: 'FY2023 Earnings Contribution',
                    data: [77, 23], // Approximate earnings contribution (%)
                    backgroundColor: [CHART_COLORS.blue, CHART_COLORS.red],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Earnings Contribution by Segment (%)' } }
            }
        });
        
        // --- FINANCIAL CHARTS LOGIC ---

        // Yearly Data Store
        const yearlyDataStore = {
            labels: ['FY20', 'FY21', 'FY22', 'FY23', 'FY24'],
            totalRevenue: { data: [94.7, 162.5, 246.3, 200.9, 193.4], label: 'Total Revenue ($B)', color: CHART_COLORS.blue },
            netIncome: { data: [-5.5, 15.6, 35.5, 21.4, 17.7], label: 'Net Income ($B)', color: CHART_COLORS.sky },
            opCashFlow: { data: [10.6, 29.2, 49.6, 37.6, 31.5], label: 'Operating Cash Flow ($B)', color: CHART_COLORS.amber },
            capitalExpenditures: { data: [13.5, 11.7, 12.0, 15.8, 16.4], label: 'Capital Expenditures ($B)', color: CHART_COLORS.red }
        };

        // Quarterly Data Store
        const quarterlyDataStore = {
            labels: ['Q2 23', 'Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25'],
            totalRevenue: { data: [48.9, 54.1, 52.5, 48.7, 50.8, 51.9, 45.8, 47.6], label: 'Total Revenue ($B)', color: CHART_COLORS.blue },
            netIncome: { data: [6.0, 6.5, 2.3, 5.5, 5.2, 5.8, 2.3, 3.5], label: 'Net Income ($B)', color: CHART_COLORS.sky },
            opCashFlow: { data: [9.7, 9.7, 7.8, 6.8, 8.5, 9.1, 8.7, 5.2], label: 'Operating Cash Flow ($B)', color: CHART_COLORS.amber }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: [{
                        label: metricDetails.label,
                        data: metricDetails.data,
                        backgroundColor: metricDetails.color + 'BF', // with opacity
                        borderColor: metricDetails.color,
                        borderWidth: 1,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: false, title: { display: true, text: metricDetails.label.split('(')[1].replace(')','')} } },
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

