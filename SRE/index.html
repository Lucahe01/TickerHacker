<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sempra (SRE) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">Sempra (SRE) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Sempra: Powering North America's Energy Future</h2>
            <p class="content-text mb-6">Sempra (NYSE: SRE) is a premier North American energy infrastructure company focused on electrification and the clean energy transition. With a mission to be the leading energy infrastructure company on the continent, Sempra's strategy is centered on its three major growth platforms: Sempra California, Sempra Texas, and Sempra Infrastructure. The company is executing a massive <span class="highlight">capital investment plan</span> focused on expanding and modernizing its vast transmission and distribution networks to support growing energy demand and the integration of renewables. This focus on regulated, rate-based utility growth provides a stable foundation, while its infrastructure arm offers significant upside through large-scale projects like liquefied natural gas (LNG) export terminals.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Strategy: A Three-Platform Growth Engine</h3>
                    <p class="content-text mb-4">Sempra's strategy is to deliver long-term value through disciplined investments in its three core businesses:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Modernize Regulated Utilities:</strong> Deploy significant capital into its California and Texas utilities to enhance safety, reliability, and capacity, supporting electrification and clean energy goals.</li>
                        <li><strong class="font-semibold text-gray-700">Grow Infrastructure Assets:</strong> Expand its infrastructure portfolio, particularly in LNG and clean power, to meet growing global demand for secure and cleaner energy sources.</li>
                        <li><strong class="font-semibold text-gray-700">Financial Discipline:</strong> Maintain a strong balance sheet and focus on operational excellence to support its large capital program and deliver consistent, top-tier dividend growth.</li>
                        <li><strong class="font-semibold text-gray-700">Sustainability Leadership:</strong> Position the company as a leader in the energy transition by enabling the delivery of diverse and cleaner forms of energy.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">2025-2029 Capital Plan</p>
                    <p class="kpi-value text-violet-600">$48 Billion</p>
                    <p class="content-text text-sm mt-2">Represents a record five-year capital plan focused almost entirely on regulated transmission and distribution investments to drive rate base growth.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How Sempra Makes Money: Three Regulated Platforms</h2>
            <p class="content-text mb-6">Sempra's business is organized into three large-scale, regulated growth platforms. This structure provides a stable and predictable earnings base from its utilities, complemented by the significant growth potential of its infrastructure projects.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="california">Sempra California</button>
                    <button class="segment-tab-button" data-target="texas">Sempra Texas</button>
                    <button class="segment-tab-button" data-target="infra">Sempra Infrastructure</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="californiaContent" class="segment-content">
                    <h3 class="subsection-title">Sempra California</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">This platform is comprised of two major Southern California utilities: San Diego Gas & Electric (SDG&E) and Southern California Gas Co. (SoCalGas). Together, they form the largest utility customer base in the United States, serving a thriving and innovative regional economy.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>SDG&E:</strong> A combined electric and natural gas utility providing service to San Diego and southern Orange counties.</li>
                                <li><strong>SoCalGas:</strong> The largest natural gas distribution utility in the United States, serving customers throughout Central and Southern California.</li>
                             </ul>
                        </div>
                        <div class="kpi-card bg-sky-50 border-sky-200">
                             <p class="kpi-label">Service Territory</p>
                             <p class="kpi-value text-sky-600">~27 Million Consumers</p>
                             <p class="content-text text-sm mt-2">Serving a massive and economically vital region of the U.S., providing a stable foundation for earnings.</p>
                         </div>
                    </div>
                </div>
                <div id="texasContent" class="segment-content hidden">
                    <h3 class="subsection-title">Sempra Texas</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">This platform is centered around Sempra's 80.25% ownership stake in Oncor Electric Delivery Company, the largest electric transmission and distribution utility in Texas. Oncor operates the state's largest T&D system, serving a fast-growing population and economy.</p>
                            <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Oncor:</strong> Operates over 144,000 miles of transmission and distribution lines, delivering power to more than 13 million Texans.</li>
                                <li><strong>Growth Driver:</strong> Benefiting from strong population and business growth in Texas, driving the need for continued grid investment.</li>
                             </ul>
                        </div>
                        <div class="kpi-card bg-orange-50 border-orange-200">
                             <p class="kpi-label">Core Focus</p>
                             <p class="kpi-value text-orange-600">Transmission & Distribution</p>
                             <p class="content-text text-sm mt-2">Oncor is a pure-play T&D utility, which insulates it from the volatility of the competitive Texas power generation market.</p>
                         </div>
                    </div>
                </div>
                 <div id="infraContent" class="segment-content hidden">
                    <h3 class="subsection-title">Sempra Infrastructure</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">This segment develops, builds, and operates critical energy infrastructure, with a focus on clean power, energy networks, and LNG and net-zero solutions. It owns and operates a leading portfolio of LNG export facilities and cross-border pipelines, connecting North American energy resources to global markets.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Key Assets:</strong> Cameron LNG and the upcoming Port Arthur LNG export facilities.</li>
                                <li><strong>Strategic Importance:</strong> Provides a significant avenue for long-term, contracted growth that is distinct from the regulated utility businesses.</li>
                            </ul>
                        </div>
                         <div class="kpi-card bg-teal-50 border-teal-200">
                            <p class="kpi-label">Growth Catalyst</p>
                            <p class="kpi-value text-teal-600">LNG Exports</p>
                            <p class="content-text text-sm mt-2">The development of large-scale LNG projects like Port Arthur LNG offers substantial future earnings potential.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Sempra's financial model is designed for stability and predictable growth. The vast majority of its earnings are generated by its regulated utilities, which provides a high degree of predictability. This stable base supports the company's large capital expenditure program and allows for consistent dividend growth.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (FY22-FY24)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="operatingIncome">Operating Income ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($M)</option>
                             <option value="operatingIncome">Operating Income ($M)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The financial charts showcase the stable and growing nature of Sempra's regulated utility business, which forms the bedrock of its financial strength.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Regulated Utility Fortress</h2>
            <p class="content-text mb-6">Sempra's competitive advantage is built on the foundation of its regulated monopoly utility assets, which operate in attractive, high-growth markets. These assets provide a wide and deep moat that is nearly impossible for competitors to replicate.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Regulated Monopoly Status:</strong> Sempra's utilities in California and Texas operate as legal monopolies in their service territories. They face no direct competition for their transmission and distribution services, leading to highly predictable, regulated returns.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Strategic Infrastructure Assets:</strong> The company's vast network of pipelines, wires, and storage facilities are essential, long-lived assets that are critical to the functioning of the economy in their regions.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Constructive Regulatory Environments:</strong> Sempra primarily operates in states like California and Texas, which have generally constructive regulatory frameworks that allow for timely recovery of the significant capital investments needed to maintain and modernize the grid.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Peer Utilities:</strong> While there is no direct competition in its service territories, Sempra competes for investment capital with other large, regulated utilities like NextEra Energy, Duke Energy, and Southern Company.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Other Infrastructure Developers:</strong> In its non-regulated Sempra Infrastructure business, it competes with other large energy companies and private equity firms to develop and build large-scale projects like LNG terminals and renewable power plants.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Sempra offers a compelling combination of stable, regulated utility growth and significant long-term upside from its infrastructure projects. The investment thesis is centered on the successful execution of its massive capital plan and navigating the complex regulatory and political environments in its key markets.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities üöÄ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Predictable Rate Base Growth:</strong> The $48 billion, five-year capital plan is expected to drive a 9% annualized growth in the company's rate base, leading to predictable earnings and dividend growth.</li>
                        <li><strong>The Electrification Tail-wind:</strong> Sempra is a primary beneficiary of the long-term trend of electrification, particularly in transportation and buildings, which drives the need for a larger and more robust grid.</li>
                        <li><strong>LNG Growth Potential:</strong> The development of the Port Arthur LNG facility and potential expansions at Cameron LNG offer significant, long-term contracted cash flow growth potential.</li>
                        <li><strong>Strong Dividend Profile:</strong> With a solid track record of dividend increases, Sempra appeals to income-oriented investors seeking reliable and growing payouts.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges üìâ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Regulatory Risk:</strong> The company's profitability is highly dependent on constructive outcomes in regulatory proceedings in California and Texas. Any adverse rulings on cost recovery or allowed returns could negatively impact earnings.</li>
                        <li><strong>Wildfire Risk:</strong> Operating in California exposes the company to significant financial risk associated with catastrophic wildfires, despite extensive mitigation efforts.</li>
                        <li><strong>Large Project Execution Risk:</strong> The development of multi-billion dollar infrastructure projects like LNG terminals is complex and carries risks of cost overruns and construction delays.</li>
                        <li><strong>Interest Rate Sensitivity:</strong> As a capital-intensive business, a sharp rise in interest rates could increase the cost of financing its large capital expenditure program.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Sempra public filings (SEC reports), investor presentations, and credible financial data providers as of July 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            teal: '#5EEAD4'
        };

        // --- FINANCIAL CHARTS LOGIC ---

        // Fiscal Year ends December 31
        const yearlyDataStore = {
            labels: ['FY22', 'FY23', 'FY24'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($B)', data: [14.42, 16.73, 15.22], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Billions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Operating Income ($B)', data: [4.24, 4.41, 4.88], backgroundColor: CHART_COLORS.sky + 'BF', borderColor: CHART_COLORS.sky } ],
                yAxisLabel: 'Billions of USD'
            }
        };

        // Quarters are fiscal quarters
        const quarterlyDataStore = {
            labels: ['Q2 23', 'Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($M)', data: [3048, 4586, 4016, 5732, 3591, 3624, 4166, 3835], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Millions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Operating Income ($M)', data: [806, 1162, 1070, 1618, 1228, 1111, 1374, 1163], backgroundColor: CHART_COLORS.teal + 'BF', borderColor: CHART_COLORS.teal } ],
                yAxisLabel: 'Millions of USD'
            }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            
            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: metricDetails.datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                           display: false
                        }
                    },
                    scales: {
                        x: {},
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: metricDetails.yAxisLabel
                            },
                        }
                    }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

