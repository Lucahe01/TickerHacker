<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastercard Inc. (MA) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #F97316; /* orange-500 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #FBBF24; /* amber-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #EF4444; /* red-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #F97316; /* orange-500 */
            color: #FFFFFF;
            border-color: #EA580C; /* orange-600 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #F97316; /* orange-500 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #F97316;">Mastercard (MA) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-orange-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Mastercard: The Global Commerce Network</h2>
            <p class="content-text mb-6">Mastercard Incorporated is a global technology company in the payments industry. Its core mission is to connect and power an inclusive, digital economy that benefits everyone, everywhere by making transactions safe, simple, smart, and accessible. It operates a "four-party" model, connecting consumers, merchants, financial institutions, and governments. Unlike banks, Mastercard does not issue cards, extend credit, or set interest rates. Instead, it generates revenue by charging fees for the use of its payment network and by offering a growing suite of value-added services.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Business Strategy</h3>
                    <p class="content-text mb-4">Mastercard's strategy is focused on growing its core business while expanding into new payment flows and service offerings:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Grow the Core:</strong> Continuously expanding its acceptance network and driving the secular shift from cash and checks to electronic payments.</li>
                        <li><strong class="font-semibold text-gray-700">Diversify Geographies & Customers:</strong> Expanding its presence in emerging markets and targeting new customer segments like governments and corporations.</li>
                        <li><strong class="font-semibold text-gray-700">Build New Networks:</strong> Actively developing capabilities in non-carded payment flows, including Business-to-Business (B2B), Person-to-Person (P2P), and Bill Pay.</li>
                        <li><strong class="font-semibold text-gray-700">Scale Value-Added Services:</strong> Aggressively growing its higher-margin services in areas like cybersecurity, data analytics, and loyalty to deepen customer relationships and create new revenue streams.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-orange-50 border-orange-200">
                    <p class="kpi-label">Gross Dollar Volume (FY 2024)</p>
                    <p class="kpi-value text-orange-600">$9.8 Trillion</p>
                    <p class="content-text text-sm mt-2">This staggering volume of transactions highlights the immense scale and central role of Mastercard's network in the global economy.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How Mastercard Makes Money: Network & Services</h2>
            <p class="content-text mb-6">Mastercard's revenue model is robust and multi-faceted, primarily divided into two synergistic segments: the foundational Payment Network and the high-growth Value-Added Services. While the Payment Network thrives on transaction volume, the Services segment deepens the moat by providing essential tools that enhance security and intelligence for its partners.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="network">Payment Network</button>
                    <button class="segment-tab-button" data-target="services">Value-Added Services</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="networkContent" class="segment-content">
                    <h3 class="subsection-title">Payment Network</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">The core of Mastercard's business, generating fees from the sheer volume and value of transactions processed. In fiscal year 2024, the Payment Network accounted for approximately <span class="highlight">63%</span> of total net revenue.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Domestic Assessments:</strong> Fees based on the gross dollar volume (GDV) of transactions within a country.</li>
                                <li><strong>Cross-Border Volume Fees:</strong> Higher-margin fees on transactions where the card's issuing country differs from the merchant's country.</li>
                                <li><strong>Transaction Processing Fees:</strong> "Switching fees" charged per transaction for authorization, clearing, and settlement services.</li>
                            </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="revenueBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
                <div id="servicesContent" class="segment-content hidden">
                    <h3 class="subsection-title">Value-Added Services & Solutions</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">This segment is Mastercard's primary growth engine, growing faster than the core network. It provides a diverse portfolio of solutions that enhance security, provide intelligence, and enable new payment methods. In FY 2024, this segment comprised <span class="highlight">37%</span> of net revenue.</p>
                            <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Cyber & Intelligence Solutions:</strong> A critical suite of services including fraud detection, risk management, artificial intelligence tools, and identity verification.</li>
                                <li><strong>Data & Services:</strong> Includes consulting, data analytics platforms (e.g., Test & Learn), and loyalty program management.</li>
                                 <li><strong>Processing & Gateway Services:</strong> Payment processing solutions for issuers and acquirers, as well as digital payment gateway services.</li>
                            </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="segmentGrowthChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Mastercard is a financial powerhouse defined by its "asset-light" business model, which leads to exceptional profitability and massive free cash flow generation. The company consistently delivers robust revenue growth and maintains industry-leading operating margins, allowing for significant capital returns to shareholders via dividends and buybacks. Explore the key financial trends below.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (2020-2024)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="operatingIncome">Operating Income ($B)</option>
                            <option value="netIncome">Net Income ($B)</option>
                            <option value="operatingCashFlow">Operating Cash Flow ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="operatingIncome">Operating Income ($B)</option>
                            <option value="valueAddedServicesRevenue">Value-Added Services Revenue ($B)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The consistent upward trajectory in nearly all financial metrics underscores the powerful secular tailwinds of digital payments and Mastercard's successful execution of its growth strategies.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Global Network Effect</h2>
            <p class="content-text mb-6">Mastercard's competitive advantage, or "moat," is one of the most formidable in the business world. It is built on a powerful, self-reinforcing network effect that creates immense barriers to entry and establishes a global duopoly alongside its primary competitor, Visa.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Network Effects:</strong> This is the cornerstone of the moat. The more consumers that use Mastercard, the more essential it is for merchants to accept it. The more merchants that accept it, the more valuable the card becomes for consumers. This virtuous cycle is nearly impossible for a new entrant to replicate at scale.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Intangible Assets (Brand):</strong> The Mastercard brand is globally recognized and synonymous with trust and security in payments, a critical factor for both consumers and businesses.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-orange-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">High Switching Costs:</strong> While a consumer can easily switch cards, it is a complex and expensive process for financial institutions and large merchants to switch their primary payment network provider due to deep operational integration.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-orange-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Scale & Efficiency:</strong> The sheer volume of transactions processed allows Mastercard to operate at an extremely low marginal cost per transaction, an advantage that smaller networks cannot match.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Visa Inc. (V):</strong> The most direct competitor, operating a nearly identical four-party model and sharing a duopoly in the global card network space.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">American Express (AXP) & Discover (DFS):</strong> These operate "three-party" models where they act as both the network and the card issuer, giving them different economic models.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-amber-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Alternative Payment Networks:</strong> A fragmented group including regional debit/ATM networks, real-time payment systems (e.g., The Clearing House), and emerging fintech players (e.g., PayPal, Block).</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-amber-500 mr-2 mt-1">●</span>
                             <span class="content-text"><strong class="text-gray-700">Cash and Checks:</strong> The largest, albeit declining, form of competition globally remains traditional paper-based payment methods.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Mastercard's future appears bright, buoyed by the unstoppable shift to a digital economy. However, as a dominant player in a critical industry, it must navigate a complex landscape of regulation, competition, and technological change. Its premium stock valuation reflects high expectations for continued flawless execution.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities 🚀</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Secular Shift to Digital:</strong> The long-term global decline of cash provides a powerful and durable tailwind for volume growth.</li>
                        <li><strong>Value-Added Services Growth:</strong> Continued expansion of high-margin Cyber & Intelligence and Data & Services offerings is set to drive margin expansion and profitability.</li>
                        <li><strong>New Payment Flows:</strong> The vast, largely untapped markets of B2B, P2P, and B2C payments represent a multi-trillion dollar growth opportunity beyond the traditional consumer card business.</li>
                        <li><strong>Pricing Power:</strong> The strength of its network and brand provides a degree of pricing power, allowing it to pass on costs and protect its industry-leading margins.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-red-600">Risks & Challenges 📉</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Regulatory Scrutiny:</strong> The duopolistic nature of the card industry invites constant government oversight on fees and practices, which could lead to unfavorable regulations.</li>
                        <li><strong>Geopolitical Risk:</strong> Heavy reliance on cross-border transactions makes revenues sensitive to global trade tensions, travel disruptions, and foreign exchange volatility.</li>
                        <li><strong>Technological Disruption:</strong> The rise of real-time payment systems, "Buy Now, Pay Later" (BNPL), and potential future innovations from fintech and Big Tech could challenge the traditional card-rail model.</li>
                        <li><strong>Premium Valuation:</strong> The stock's high P/E ratio means it is priced for perfection, making it vulnerable to significant pullbacks if growth falters or market sentiment shifts.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Mastercard Inc. public SEC filings and press releases as of June 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (!mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = 'Inter, sans-serif';
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            orange: '#F97316',
            amber: '#FBBF24',
            red: '#EF4444',
            teal: '#14B8A6',
            gray: '#4B5563',
            darkOrange: '#EA580C',
        };

        // Revenue Breakdown Chart (Doughnut)
        const breakdownCtx = document.getElementById('revenueBreakdownChart').getContext('2d');
        new Chart(breakdownCtx, {
            type: 'doughnut',
            data: {
                labels: ['Payment Network', 'Value-Added Services'],
                datasets: [{
                    data: [63, 37], // FY2024 Revenue Mix
                    backgroundColor: [CHART_COLORS.orange, CHART_COLORS.amber],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Net Revenue Mix (FY 2024)' } },
                cutout: '60%'
            }
        });
        
        // Segment Growth Chart (Bar)
        const growthCtx = document.getElementById('segmentGrowthChart').getContext('2d');
        new Chart(growthCtx, {
            type: 'bar',
            data: {
                labels: ['FY22', 'FY23', 'FY24'],
                datasets: [
                    {
                        label: 'Payment Network Revenue ($B)',
                        data: [14.3, 15.8, 17.6],
                        backgroundColor: CHART_COLORS.orange + 'BF',
                        borderColor: CHART_COLORS.orange,
                        borderWidth: 1
                    },
                    {
                        label: 'Value-Added Services Revenue ($B)',
                        data: [7.9, 9.3, 10.5],
                        backgroundColor: CHART_COLORS.amber + 'BF',
                        borderColor: CHART_COLORS.amber,
                        borderWidth: 1
                    }
            ]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                scales: { x: { stacked: false }, y: { beginAtZero: true, title: { display: true, text: 'Revenue in Billions USD'} } },
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Segment Revenue Growth' } }
            }
        });

        // --- FINANCIAL CHARTS LOGIC ---

        // Yearly Data Store (in Billions USD)
        const yearlyDataStore = {
            labels: ['FY20', 'FY21', 'FY22', 'FY23', 'FY24'],
            totalRevenue: { data: [15.30, 18.88, 22.24, 25.10, 28.17], label: 'Total Revenue ($B)', color: CHART_COLORS.orange },
            operatingIncome: { data: [8.08, 10.08, 12.26, 14.01, 15.58], label: 'Operating Income ($B)', color: CHART_COLORS.amber },
            netIncome: { data: [6.40, 8.79, 10.26, 11.86, 13.91], label: 'Net Income ($B)', color: CHART_COLORS.teal },
            operatingCashFlow: { data: [7.22, 9.46, 11.20, 11.98, 14.78], label: 'Operating Cash Flow ($B)', color: CHART_COLORS.red },
        };

        // Quarterly Data Store (in Billions USD)
        const quarterlyDataStore = {
            labels: ['Q2 23', 'Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25'],
            totalRevenue: { data: [6.27, 6.53, 6.55, 6.35, 6.96, 7.37, 7.49, 7.25], label: 'Total Revenue ($B)', color: CHART_COLORS.orange },
            operatingIncome: { data: [3.53, 3.67, 3.51, 3.86, 3.99, 4.09, 4.21, 4.02], label: 'Operating Income ($B)', color: CHART_COLORS.amber },
            valueAddedServicesRevenue: { data: [2.25, 2.37, 2.41, 2.45, 2.62, 2.76, 2.89, 2.95], label: 'Value-Added Services Revenue ($B)', color: CHART_COLORS.darkOrange },
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            const isLine = metricKey === 'valueAddedServicesRevenue'; // Example of mixing chart types
            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: [{
                        label: metricDetails.label,
                        data: metricDetails.data,
                        backgroundColor: metricDetails.color + 'BF', // with opacity
                        borderColor: metricDetails.color,
                        borderWidth: 1,
                        type: isLine ? 'line' : 'bar',
                        fill: !isLine,
                        tension: 0.2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: false, title: { display: true, text: metricDetails.label.split('(')[1].replace(')','')} } },
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

