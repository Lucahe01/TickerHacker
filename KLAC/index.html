<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLA Corporation (KLAC) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">KLA Corporation (KLAC) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">KLA Corporation: The Unsung Hero of the Semiconductor Industry</h2>
            <p class="content-text mb-6">KLA Corporation (NASDAQ: KLAC) is a global leader in the semiconductor process control and yield management industry. The company provides a comprehensive portfolio of inspection and metrology systems that are essential for the manufacturing of integrated circuits (ICs). As the complexity of semiconductor manufacturing continues to increase, KLA's role as the "inspector general" of the chip industry has become more critical than ever. This analysis delves into KLA's business model, its strong financial performance, and its strategic position at the heart of the global semiconductor value chain.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Business Strategy</h3>
                    <p class="content-text mb-4">KLA's strategy is focused on technology leadership and close collaboration with its customers:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Technology Leadership:</strong> A relentless focus on research and development to maintain its technological edge in the highly demanding field of process control.</li>
                        <li><strong class="font-semibold text-gray-700">Customer Collaboration:</strong> Working closely with chipmakers to develop new inspection and metrology solutions that are tailored to their specific needs and manufacturing processes.</li>
                        <li><strong class="font-semibold text-gray-700">Expanding into Adjacent Markets:</strong> Leveraging its core technologies to expand into adjacent markets, such as the inspection of printed circuit boards (PCBs) and flat panel displays.</li>
                        <li><strong class="font-semibold text-gray-700">Driving Shareholder Value:</strong> A commitment to delivering strong financial results, including consistent revenue growth, high profit margins, and a growing dividend.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">Fiscal Year 2024 Revenue</p>
                    <p class="kpi-value text-violet-600">$9.8 Billion</p>
                    <p class="content-text text-sm mt-2">KLA's substantial revenue base reflects its dominant market position and the critical nature of its products and services.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How KLA Makes Money: A Focus on Process Control</h2>
            <p class="content-text mb-6">KLA's business is primarily focused on the **Semiconductor Process Control** segment, which accounts for the vast majority of its revenue. This segment provides a comprehensive suite of products and services that help chipmakers to identify and control defects during the manufacturing process, thereby improving yields and reducing costs.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="wafer">Wafer Inspection</button>
                    <button class="segment-tab-button" data-target="patterning">Patterning</button>
                    <button class="segment-tab-button" data-target="other">Other Segments</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="waferContent" class="segment-content">
                    <h3 class="subsection-title">Wafer Inspection</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">This is the core of KLA's business. The company's wafer inspection systems use advanced optics and electron-beam technology to detect defects on semiconductor wafers at various stages of the manufacturing process. These systems are critical for ensuring the quality and reliability of the final product.</p>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="revenueBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
                <div id="patterningContent" class="segment-content hidden">
                    <h3 class="subsection-title">Patterning</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">This segment includes reticle inspection systems, which are used to ensure the defect-free quality of the photomasks (reticles) that are used in the lithography process. This is another critical step in the chip manufacturing process, as any defects on the reticle will be transferred to the wafer.</p>
                        </div>
                         <div class="kpi-card bg-sky-50 border-sky-200">
                             <p class="kpi-label">Market Position</p>
                             <p class="kpi-value text-sky-600">Dominant</p>
                             <p class="content-text text-sm mt-2">KLA holds a dominant market share in the process control and yield management market, a testament to its technological leadership.</p>
                         </div>
                    </div>
                </div>
                 <div id="otherContent" class="segment-content hidden">
                    <h3 class="subsection-title">Other Segments</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">KLA also has a smaller but growing business in the inspection of printed circuit boards (PCBs), flat panel displays, and electronic components. These businesses leverage the company's core competencies in inspection and metrology to address new market opportunities.</p>
                        </div>
                        <div class="kpi-card bg-teal-50 border-teal-200">
                             <p class="kpi-label">Strategic Diversification</p>
                             <p class="kpi-value text-teal-600">Expanding Reach</p>
                             <p class="content-text text-sm mt-2">The expansion into adjacent markets provides a new avenue for growth and reduces the company's reliance on the semiconductor industry.</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">KLA has a long history of strong financial performance, with consistent revenue growth, high profit margins, and robust cash flow generation. The company's financial strength allows it to invest heavily in research and development, which is essential for maintaining its technological leadership. KLA is also committed to returning capital to shareholders through a combination of dividends and share buybacks.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (2020-2024)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="netIncome">GAAP Net Income ($B)</option>
                            <option value="freeCashFlow">Free Cash Flow ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($B)</option>
                             <option value="grossMargin">Gross Margin (%)</option>
                             <option value="opMargin">Operating Margin (%)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The financial charts show a company with a strong and consistent growth trajectory, coupled with industry-leading profitability and robust cash flow generation.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Indispensable Inspector</h2>
            <p class="content-text mb-6">KLA's competitive advantage is one of the strongest in the semiconductor industry. The company's deep technological expertise, its close relationships with customers, and the critical nature of its products create a powerful moat that is difficult for competitors to penetrate.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Technological Leadership:</strong> KLA's products are at the cutting edge of inspection and metrology, and the company's relentless focus on R&D allows it to maintain its technological lead.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">High Switching Costs:</strong> KLA's systems are deeply integrated into the manufacturing processes of its customers, making it very difficult and costly to switch to a competitor.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Strong Customer Relationships:</strong> KLA works closely with its customers to develop new solutions and to provide ongoing support, creating a strong and loyal customer base.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Applied Materials (AMAT):</strong> A major player in the semiconductor equipment industry, Applied Materials offers a range of products that compete with KLA's inspection and metrology systems.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Lam Research (LRCX):</strong> Another major semiconductor equipment supplier, Lam Research also has a portfolio of products that compete with KLA.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">ASML Holding (ASML):</strong> While primarily focused on lithography, ASML also has a growing business in metrology and inspection, which puts it in direct competition with KLA.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">KLA is a high-quality company with a dominant market position and a long runway for growth. The company is well-positioned to benefit from the long-term trends driving the semiconductor industry, including the increasing demand for advanced chips for AI, 5G, and other emerging technologies.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities 🚀</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Secular Growth in Semiconductor Complexity:</strong> As chips become more complex, the need for advanced process control and yield management solutions will only increase.</li>
                        <li><strong>The Rise of AI and High-Performance Computing:</strong> The demand for powerful chips to support AI and high-performance computing is a major tailwind for KLA's business.</li>
                        <li><strong>Expansion into Adjacent Markets:</strong> The company's expansion into new markets like PCB and display inspection provides an additional avenue for growth.</li>
                        <li><strong>Strong Financial Performance:</strong> The company's consistent growth, high profitability, and strong cash flow generation make it a high-quality investment.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges 📉</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Semiconductor Industry Cyclicality:</strong> The semiconductor industry is notoriously cyclical, and a downturn in the market could have a significant impact on KLA's financial performance.</li>
                        <li><strong>Customer Concentration:</strong> KLA relies on a small number of key customers for a significant portion of its revenue, which creates concentration risk.</li>
                        <li><strong>Technological Disruption:</strong> The pace of technological change in the semiconductor industry is rapid, and KLA must continue to invest heavily in R&D to maintain its competitive edge.</li>
                        <li><strong>Geopolitical Risks:</strong> The company's global operations are exposed to geopolitical risks, including trade tensions and supply chain disruptions.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from KLA Corporation public filings (SEC 10-K & 10-Q reports) and credible financial data providers as of June 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = 'Inter, sans-serif';
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            stone: '#E7E5E4',
            gray: '#4B5563',
            darkViolet: '#8B5CF6',
            darkSky: '#38BDF8',
            teal: '#5EEAD4'
        };

        // Revenue Breakdown Chart
        const revenueBreakdownCtx = document.getElementById('revenueBreakdownChart').getContext('2d');
        new Chart(revenueBreakdownCtx, {
            type: 'doughnut',
            data: {
                labels: ['Semiconductor Process Control', 'Specialty Semiconductor', 'PCB, Display & Component'],
                datasets: [{
                    data: [88, 7, 5], // Approximate percentages
                    backgroundColor: [CHART_COLORS.violet, CHART_COLORS.sky, CHART_COLORS.teal],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Revenue by Segment' } }
            }
        });

        // --- FINANCIAL CHARTS LOGIC ---

        // Yearly Data Store (Fiscal Years end June 30)
        const yearlyDataStore = {
            labels: ['FY20', 'FY21', 'FY22', 'FY23', 'FY24'],
            totalRevenue: { data: [5.81, 6.92, 9.21, 10.50, 9.81], label: 'Total Revenue ($B)', color: CHART_COLORS.violet },
            netIncome: { data: [1.44, 1.74, 2.76, 3.32, 2.76], label: 'GAAP Net Income ($B)', color: CHART_COLORS.sky },
            freeCashFlow: { data: [1.48, 1.83, 2.50, 2.97, 2.68], label: 'Free Cash Flow ($B)', color: CHART_COLORS.teal }
        };

        // Quarterly Data Store
        const quarterlyDataStore = {
            labels: ['Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25', 'Q2 25', 'Q3 25'],
            totalRevenue: { data: [2.36, 2.43, 2.49, 2.40, 2.57, 2.84, 3.08, 3.06], label: 'Total Revenue ($B)', color: CHART_COLORS.violet },
            grossMargin: { data: [59.1, 59.5, 61.8, 62.1, 61.9, 62.0, 62.5, 62.8], label: 'Gross Margin (%)', color: CHART_COLORS.orange },
            opMargin: { data: [34.5, 35.1, 38.3, 38.0, 37.9, 38.5, 39.1, 40.3], label: 'Operating Margin (%)', color: CHART_COLORS.darkViolet }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            const isLineChart = metricKey === 'freeCashFlow' || metricKey === 'grossMargin' || metricKey === 'opMargin';

            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: [{
                        label: metricDetails.label,
                        data: metricDetails.data,
                        backgroundColor: isLineChart ? 'transparent' : metricDetails.color + 'BF',
                        borderColor: metricDetails.color,
                        borderWidth: 2,
                        type: isLineChart ? 'line' : 'bar',
                        fill: !isLineChart,
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { 
                        y: { 
                            beginAtZero: false, 
                            title: { display: true, text: metricDetails.label.split('(')[1].replace(')','') }
                        } 
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

