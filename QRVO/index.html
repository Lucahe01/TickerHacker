<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qorvo (QRVO) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">Qorvo (QRVO) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Qorvo: Enabling the Connected World</h2>
            <p class="content-text mb-6">Qorvo is a leading provider of radio frequency (RF) and power management solutions that are the building blocks for connectivity and power in a wide range of devices. From the latest 5G smartphones to advanced defense radar systems and the rapidly growing Internet of Things (IoT), Qorvo's technology is essential. The company's strategy is focused on leveraging its deep technological expertise and broad product portfolio to expand its content in its core markets while strategically diversifying into higher-growth areas like automotive, defense, and industrial applications. This analysis explores Qorvo's business segments, its financial performance through the semiconductor cycle, and its strategic positioning for the future of connectivity.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Strategy: Technology Leadership and Diversification</h3>
                    <p class="content-text mb-4">Qorvo's strategy is built on several key pillars:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Expanding Content per Device:</strong> As technologies like 5G and Wi-Fi 7 become more complex, they require more sophisticated RF solutions. Qorvo aims to capture more value by providing highly integrated, high-performance modules.</li>
                        <li><strong class="font-semibold text-gray-700">Diversifying End Markets:</strong> Reducing reliance on the cyclical smartphone market by growing its business in defense & aerospace, automotive, and industrial IoT, which offer more stable demand and higher margins.</li>
                        <li><strong class="font-semibold text-gray-700">Leadership in Key Technologies:</strong> Maintaining a competitive edge through investment in core technologies like Gallium Nitride (GaN) and advanced filter solutions.</li>
                        <li><strong class="font-semibold text-gray-700">Operational Efficiency:</strong> Optimizing manufacturing processes and supply chain management to improve gross margins and profitability.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">Fiscal Year 2025 Revenue</p>
                    <p class="kpi-value text-violet-600">$4.1 Billion</p>
                    <p class="content-text text-sm mt-2">Represents a significant recovery from the previous year, driven by improving demand in the Android ecosystem and strength in defense markets.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How Qorvo Makes Money: Three Pillars of Technology</h2>
            <p class="content-text mb-6">Qorvo's business is structured into three segments that address different aspects of the global connectivity and power management markets.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="acg">Advanced Cellular (ACG)</button>
                    <button class="segment-tab-button" data-target="hpa">High Performance Analog (HPA)</button>
                    <button class="segment-tab-button" data-target="csg">Connectivity & Sensors (CSG)</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="acgContent" class="segment-content">
                    <h3 class="subsection-title">Advanced Cellular Group (ACG)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">This is Qorvo's largest segment, providing the critical RF solutions that enable cellular connectivity in smartphones, wearables, and other mobile devices. Products include power amplifiers, switches, filters, and highly integrated front-end modules for 4G and 5G networks.</p>
                        </div>
                        <div class="kpi-card bg-sky-50 border-sky-200">
                            <p class="kpi-label">FY2025 ACG Revenue</p>
                            <p class="kpi-value text-sky-600">$2.76 Billion</p>
                            <p class="content-text text-sm mt-2">The performance of this segment is closely tied to the health and inventory cycles of the global smartphone market.</p>
                        </div>
                    </div>
                </div>
                <div id="hpaContent" class="segment-content hidden">
                    <h3 class="subsection-title">High Performance Analog (HPA)</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">The HPA segment provides high-performance analog and mixed-signal products for a diverse range of demanding applications. This includes power management solutions and high-power RF products based on Gallium Nitride (GaN) technology, serving the defense & aerospace, infrastructure, and automotive markets.</p>
                        </div>
                         <div class="kpi-card bg-teal-50 border-teal-200">
                             <p class="kpi-label">FY2025 HPA Revenue</p>
                             <p class="kpi-value text-teal-600">$848 Million</p>
                             <p class="content-text text-sm mt-2">A key segment for diversification, driven by long-term secular trends in defense modernization and vehicle electrification.</p>
                         </div>
                    </div>
                </div>
                 <div id="csgContent" class="segment-content hidden">
                    <h3 class="subsection-title">Connectivity and Sensors Group (CSG)</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">The CSG segment focuses on providing RF solutions for a variety of connectivity standards, including Wi-Fi, Bluetooth, Zigbee, and Ultra-wideband (UWB). This segment targets high-growth markets such as the smart home, automotive connectivity, and industrial IoT.</p>
                        </div>
                         <div class="kpi-card bg-orange-50 border-orange-200">
                             <p class="kpi-label">FY2025 CSG Revenue</p>
                             <p class="kpi-value text-orange-600">$489 Million</p>
                             <p class="content-text text-sm mt-2">This segment is crucial to Qorvo's strategy of capturing content in the expanding universe of connected devices.</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Qorvo's financial results show the impact of the semiconductor cycle, with a recent recovery in revenue and a focus on improving gross margins. The company's profitability is sensitive to factory utilization and product mix between its different segments.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (FY23-FY25)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="grossMargin">Non-GAAP Gross Margin (%)</option>
                            <option value="operatingIncome">Non-GAAP Operating Income ($M)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($M)</option>
                             <option value="grossMargin">Non-GAAP Gross Margin (%)</option>
                             <option value="operatingIncome">Non-GAAP Operating Income ($M)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The financial charts illustrate the bottoming and recovery from the recent semiconductor downturn, with a key focus on returning gross margins to historical levels.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: Technology and Scale</h2>
            <p class="content-text mb-6">Qorvo's competitive moat is built on its deep technological expertise, broad product portfolio, and the scale required to serve the world's largest electronics manufacturers.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Technology & IP Portfolio:</strong> Decades of R&D have resulted in a strong portfolio of patents and trade secrets in RF design, advanced materials like GaN, and packaging technologies.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Broad Portfolio & Integration:</strong> The ability to provide a wide range of components and highly integrated modules simplifies the design process for customers and makes Qorvo a more valuable partner.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Scale and Customer Relationships:</strong> Qorvo has the manufacturing scale and established relationships to serve high-volume customers like Apple, which presents a significant barrier to smaller competitors.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Broadcom (AVGO):</strong> A major competitor across a wide range of RF and connectivity solutions.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Qualcomm (QCOM):</strong> A key competitor, especially in providing integrated modem-to-antenna solutions for smartphones.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Skyworks Solutions (SWKS):</strong> A direct competitor in the market for mobile RF front-end modules.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Qorvo is strategically positioned to benefit from major secular growth trends in connectivity. However, the company must continue to navigate the inherent risks of customer concentration and the cyclicality of the semiconductor industry.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities üöÄ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Secular Growth in Connectivity:</strong> The proliferation of 5G, Wi-Fi 7, and IoT devices continues to drive demand for more complex and higher-value RF content.</li>
                        <li><strong>Diversification into High-Growth Markets:</strong> The push into defense, aerospace, and automotive markets offers the potential for more stable revenue streams and higher profitability.</li>
                        <li><strong>Margin Expansion:</strong> As factory utilization improves and the mix shifts toward higher-margin products, the company has the potential to significantly improve its gross margins.</li>
                        <li><strong>Recovery in Smartphone Market:</strong> A cyclical recovery in the global smartphone market, particularly in the Android ecosystem, would provide a significant tailwind to the company's largest segment.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges üìâ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Customer Concentration:</strong> The company's heavy reliance on Apple is a major risk. Any loss of market share in Apple's devices could significantly impact revenue and profitability.</li>
                        <li><strong>Market Cyclicality:</strong> The semiconductor industry is famously cyclical. A future downturn in the smartphone market or the broader economy would negatively affect Qorvo's results.</li>
                        <li><strong>Intense Competition:</strong> The RF semiconductor market is highly competitive, with large, well-funded rivals constantly innovating and competing for major design wins.</li>
                        <li><strong>Geopolitical Risks:</strong> As a global company with a complex supply chain, Qorvo is exposed to geopolitical tensions and trade disputes that could disrupt its operations.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Qorvo, Inc. public filings and credible financial data providers as of July 2, 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            teal: '#5EEAD4'
        };
        

        // --- FINANCIAL CHARTS LOGIC ---
        // Qorvo's Fiscal Year ends in March. FY25 ended March 30, 2025.

        const yearlyDataStore = {
            labels: ['FY23', 'FY24', 'FY25'],
            totalRevenue: { data: [4.65, 3.77, 4.10], label: 'Total Revenue ($B)', color: CHART_COLORS.violet },
            grossMargin: { data: [45.1, 42.4, 42.5], label: 'Non-GAAP Gross Margin (%)', color: CHART_COLORS.sky },
            operatingIncome: { data: [1006, 521, 696], label: 'Non-GAAP Operating Income ($M)', color: CHART_COLORS.orange }
        };

        const quarterlyDataStore = {
            labels: ['Q2 24', 'Q3 24', 'Q4 24', 'Q1 25', 'Q2 25', 'Q3 25', 'Q4 25', 'Q1 26(E)'],
            totalRevenue: { data: [892, 1098, 941, 681, 927, 1262, 1229, 935], label: 'Total Revenue ($M)', color: CHART_COLORS.violet },
            grossMargin: { data: [40.7, 43.1, 43.6, 37.8, 41.6, 44.5, 45.1, 42.0], label: 'Non-GAAP Gross Margin (%)', color: CHART_COLORS.sky },
            operatingIncome: { data: [111, 238, 172, -18, 143, 311, 259, 131], label: 'Non-GAAP Operating Income ($M)', color: CHART_COLORS.orange }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];
            const isRatio = metricKey === 'grossMargin';
            const isOpIncome = metricKey === 'operatingIncome';

            const chartType = isRatio ? 'line' : 'bar';
            const chartData = metricDetails.data;
            const chartLabel = metricDetails.label;

            let backgroundColor;
            if (isRatio) {
                backgroundColor = 'transparent';
            } else if (isOpIncome) {
                backgroundColor = chartData.map(value => value >= 0 ? CHART_COLORS.teal + 'BF' : CHART_COLORS.orange + 'BF');
            } else {
                backgroundColor = metricDetails.color + 'BF';
            }

            let borderColor;
            if (isOpIncome) {
                borderColor = chartData.map(value => value >= 0 ? CHART_COLORS.teal : CHART_COLORS.orange);
            } else {
                borderColor = metricDetails.color;
            }

            return new Chart(canvas, {
                type: chartType,
                data: {
                    labels: dataStore.labels,
                    datasets: [{
                        label: chartLabel,
                        data: chartData,
                        backgroundColor: backgroundColor,
                        borderColor: borderColor,
                        borderWidth: 2,
                        fill: !isRatio
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { 
                        y: { 
                            beginAtZero: true,
                            title: { display: true, text: chartLabel.split('(')[1].replace(')','') }
                        } 
                    },
                    plugins: { 
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                       let val = context.parsed.y;
                                       let unit = chartLabel.includes('($B)') ? 'B' : (chartLabel.includes('($M)') ? 'M' : (chartLabel.includes('(%)') ? '%' : ''));
                                       label += (unit === '%' ? val.toFixed(1) : val) + unit;
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

