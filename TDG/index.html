<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TransDigm Group (TDG) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">TransDigm Group (TDG) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">TransDigm: The Aerospace Aftermarket Powerhouse</h2>
            <p class="content-text mb-6">TransDigm Group (NYSE: TDG) is a leading global designer, producer, and supplier of highly engineered, proprietary aerospace components for commercial and military aircraft. The company has built an unparalleled competitive moat by focusing on niche products where it is often the sole-source supplier. Its unique business model, which aims to provide <span class="highlight">"private equity-like returns with the liquidity of a public market,"</span> is driven by a disciplined strategy of acquiring businesses with significant aftermarket content, relentless cost control, and value-based pricing. This has resulted in a resilient, high-margin business that consistently generates strong cash flow throughout all phases of the aerospace industry cycle.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Strategy: A Three-Pronged Approach to Value Creation</h3>
                    <p class="content-text mb-4">TransDigm's success is built on a simple yet powerful three-pillar strategy:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Acquire Proprietary Businesses:</strong> A disciplined M&A strategy focused on acquiring companies that produce highly engineered, sole-source aerospace components with significant, high-margin aftermarket revenue streams.</li>
                        <li><strong class="font-semibold text-gray-700">Drive Productivity & Cost Improvements:</strong> Each of its 51 operating units runs autonomously but shares a common dedication to continuous improvement and operational efficiency to maximize profitability.</li>
                        <li><strong class="font-semibold text-gray-700">Value-Based Pricing:</strong> Leverage its strong proprietary positions and the critical nature of its parts to command premium pricing, especially in the aftermarket where its components are essential for aircraft operation and safety.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">EBITDA As Defined Margin (FY 2024)</p>
                    <p class="kpi-value text-violet-600">52.6%</p>
                    <p class="content-text text-sm mt-2">Represents industry-leading profitability, a direct result of its focus on high-margin proprietary aftermarket parts and disciplined operational management.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How TransDigm Makes Money: A Diversified Aerospace Portfolio</h2>
            <p class="content-text mb-6">TransDigm's products are found on nearly every commercial and military aircraft in service today. The business is organized into three segments, with a strong emphasis on the commercial and defense aerospace markets. A key characteristic is the revenue mix, with the aftermarket accounting for the majority of profits due to its higher margins.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="power">Power & Control</button>
                    <button class="segment-tab-button" data-target="airframe">Airframe</button>
                    <button class="segment-tab-button" data-target="nonAero">Non-aerospace</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="powerContent" class="segment-content">
                    <h3 class="subsection-title">Power & Control (~51% of Revenue)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">This is TransDigm's largest segment, providing a wide range of components critical for controlling and powering aircraft systems. These products are highly engineered and often have long-term sole-source positions on specific aircraft platforms.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Key Products:</strong> Mechanical/electro-mechanical actuators and controls, ignition systems, engine technology, specialized pumps and valves, and power conditioning devices.</li>
                                <li><strong>Customers:</strong> Engine and power system OEMs, airlines, third-party maintenance providers, and military depots.</li>
                             </ul>
                        </div>
                        <div class="chart-container h-72 md:h-80">
                            <canvas id="revenueBreakdownChart"></canvas>
                        </div>
                    </div>
                </div>
                <div id="airframeContent" class="segment-content hidden">
                    <h3 class="subsection-title">Airframe (~47% of Revenue)</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">The Airframe segment focuses on components that are integral to the aircraft's structure, cabin, and safety systems. Many of these products are also proprietary and have a strong, recurring revenue stream from maintenance, repair, and overhaul (MRO) activities.</p>
                            <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Key Products:</strong> Engineered latching and locking devices, cockpit security systems, seat belts and safety restraints, and specialized lavatory components.</li>
                                <li><strong>Customers:</strong> Airframe manufacturers, cabin system suppliers, airlines, and MRO providers.</li>
                             </ul>
                        </div>
                         <div class="kpi-card bg-sky-50 border-sky-200">
                             <p class="kpi-label">Aftermarket Dominance</p>
                             <p class="kpi-value text-sky-600">~75-80% of Profits</p>
                             <p class="content-text text-sm mt-2">While aftermarket sales are around 55-60% of revenue, they contribute the vast majority of profits due to significantly higher margins compared to OEM sales.</p>
                         </div>
                    </div>
                </div>
                 <div id="nonAeroContent" class="segment-content hidden">
                    <h3 class="subsection-title">Non-aerospace (~2% of Revenue)</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">A smaller segment that leverages TransDigm's engineering and manufacturing expertise for applications outside of aerospace. This includes components for off-road vehicles, child restraint systems, and satellite and space systems.</p>
                        </div>
                         <div class="kpi-card bg-teal-50 border-teal-200">
                             <p class="kpi-label">Strategic Focus</p>
                             <p class="kpi-value text-teal-600">Niche Applications</p>
                             <p class="content-text text-sm mt-2">This segment allows TransDigm to capitalize on its core competencies in markets with similar characteristics of proprietary, highly engineered products.</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">TransDigm's financial performance is a direct reflection of its powerful business model. The company consistently delivers robust revenue growth, best-in-class EBITDA margins, and substantial free cash flow, which it strategically deploys for acquisitions and returning capital to shareholders.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (FY22-FY24)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="operatingIncome">Operating Income ($B)</option>
                            <option value="operatingCashFlow">Operating Cash Flow ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($M)</option>
                             <option value="operatingIncome">Operating Income ($M)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">The financial charts showcase TransDigm's consistent growth trajectory and high profitability, underscoring the resilience of its aftermarket-driven business model.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: A Near-Monopoly in Niche Markets</h2>
            <p class="content-text mb-6">TransDigm has one of the most durable competitive moats in the industrial sector. This is not due to a single advantage, but a powerful combination of factors that make it extremely difficult for competitors to challenge its position.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Proprietary Products & Sole-Source Status:</strong> Approximately 90% of revenue comes from proprietary products, and for about 80% of these, TransDigm is the sole supplier. This creates a powerful pricing advantage.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">High Switching Costs & FAA Certification:</strong> Once a part is certified by the FAA for a specific aircraft, the cost, time, and risk for an airline to switch to a different supplier are prohibitive. This locks in decades of aftermarket revenue.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">➔</span>
                            <span class="content-text"><strong class="text-gray-700">Recurring Aftermarket Revenue:</strong> The large installed base of aircraft with TransDigm parts creates a stable, predictable, and high-margin stream of revenue from repairs and replacements that grows with global flight hours.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Honeywell (HON) & RTX Corporation (RTX):</strong> Large, diversified aerospace and defense conglomerates that compete with TransDigm in certain product areas.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">Parker-Hannifin (PH) & Eaton (ETN):</strong> Diversified industrial manufacturers with significant aerospace divisions that offer competing systems and components.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">●</span>
                            <span class="content-text"><strong class="text-gray-700">HEICO (HEI):</strong> Another successful company in the aerospace aftermarket, though it often focuses on FAA-approved replacement parts rather than being the original OEM.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">TransDigm is a high-quality compounder positioned to benefit from the long-term growth in global air travel. The primary risks relate to its aggressive use of leverage and its reliance on a continued pipeline of suitable acquisitions to fuel growth.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities 🚀</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Durable Aftermarket Growth:</strong> The business directly benefits from the secular growth in global revenue passenger miles (RPMs), which drives demand for high-margin repairs and replacements.</li>
                        <li><strong>Disciplined Capital Allocation:</strong> A proven ability to successfully acquire and integrate niche businesses, creating significant shareholder value over time.</li>
                        <li><strong>Exceptional Profitability and Cash Flow:</strong> Industry-leading margins and robust cash generation provide the firepower for future acquisitions and shareholder returns (e.g., special dividends).</li>
                        <li><strong>Pricing Power:</strong> The proprietary nature of its products gives it a unique ability to pass through price increases, protecting margins in an inflationary environment.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges 📉</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>High Financial Leverage:</strong> The company operates with a significant amount of debt. A sharp rise in interest rates or a severe market downturn could increase financial risk.</li>
                        <li><strong>Acquisition Integration Risk:</strong> The growth strategy is heavily dependent on M&A. Overpaying for an acquisition or failing to successfully integrate it could harm returns.</li>
                        <li><strong>Regulatory & Political Scrutiny:</strong> TransDigm's high margins and pricing practices have attracted scrutiny from the government and regulators in the past, posing a potential headline risk.</li>
                        <li><strong>Cyclicality of Aerospace:</strong> While the aftermarket provides stability, a prolonged and severe downturn in the aerospace industry could eventually impact results.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from TransDigm Group Inc. public filings (SEC reports), press releases, and credible financial data providers as of July 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            teal: '#5EEAD4'
        };
        
        // Revenue Breakdown Chart
        const revenueBreakdownCtx = document.getElementById('revenueBreakdownChart').getContext('2d');
        new Chart(revenueBreakdownCtx, {
            type: 'doughnut',
            data: {
                labels: ['Power & Control', 'Airframe', 'Non-aerospace'],
                datasets: [{
                    data: [51.5, 46.6, 1.9], // Approximate percentages
                    backgroundColor: [CHART_COLORS.violet, CHART_COLORS.sky, CHART_COLORS.teal],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Revenue by Segment (Approx. %)' } }
            }
        });

        // --- FINANCIAL CHARTS LOGIC ---

        // Fiscal Year ends September 30
        const yearlyDataStore = {
            labels: ['FY22', 'FY23', 'FY24'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($B)', data: [5.43, 6.59, 7.94], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Billions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Operating Income ($B)', data: [2.22, 2.92, 3.53], backgroundColor: CHART_COLORS.sky + 'BF', borderColor: CHART_COLORS.sky } ],
                yAxisLabel: 'Billions of USD'
            },
            operatingCashFlow: {
                datasets: [ { label: 'Operating Cash Flow ($B)', data: [0.95, 1.38, 2.05], backgroundColor: CHART_COLORS.orange + 'BF', borderColor: CHART_COLORS.orange } ],
                yAxisLabel: 'Billions of USD'
            }
        };

        // Quarters are fiscal quarters
        const quarterlyDataStore = {
            labels: ['Q3 23', 'Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25', 'Q2 25'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($M)', data: [1744, 1852, 1918, 1920, 2046, 2185, 2028, 2150], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Millions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Operating Income ($M)', data: [783, 855, 787, 867, 934, 943, 974, 991], backgroundColor: CHART_COLORS.teal + 'BF', borderColor: CHART_COLORS.teal } ],
                yAxisLabel: 'Millions of USD'
            }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];

            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: metricDetails.datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {},
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: metricDetails.yAxisLabel
                            },
                        }
                    }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

