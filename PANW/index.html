<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palo Alto Networks (PANW) - TickerHack Deep Research</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F4; /* stone-100 */
            color: #374151; /* gray-700 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) { /* md */
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .section-card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.04); /* Softer shadow */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 2rem; /* mb-8 */
        }
        .main-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 700; /* font-bold */
            color: #1F2937; /* gray-800 */
            margin-bottom: 1rem;
            text-align: center;
        }
        .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 600; /* font-semibold */
            color: #A78BFA; /* violet-400 */
            margin-bottom: 1.5rem; /* mb-6 */
            padding-bottom: 0.5rem; /* pb-2 */
            border-bottom: 2px solid #E7E5E4; /* stone-200 */
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #7DD3FC; /* sky-400 */
            margin-top: 1.5rem; /* mt-6 */
            margin-bottom: 1rem; /* mb-4 */
        }
        .content-text {
            line-height: 1.75;
            color: #4B5563; /* gray-600 */
            font-size: 0.95rem;
        }
        .highlight {
            color: #F97316; /* orange-500 */
            font-weight: 600;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            font-size: 0.875rem; /* text-sm */
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            background-color: #E7E5E4; /* stone-200 */
            color: #374151; /* gray-700 */
            border: 1px solid transparent;
        }
        .tab-button.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
            border-color: #8B5CF6; /* violet-500 */
        }
        .nav-link {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 500;
            color: #374151; /* gray-700 */
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            white-space: nowrap;
        }
        .nav-link:hover, .nav-link.active {
            background-color: #A78BFA; /* violet-400 */
            color: #FFFFFF;
        }
        .kpi-card {
            background-color: #F9FAFB; /* gray-50 */
            border: 1px solid #E7E5E4; /* stone-200 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem;
            text-align: center;
        }
        .kpi-label {
            font-size: 0.875rem; /* text-sm */
            color: #6B7280; /* gray-500 */
            margin-bottom: 0.25rem;
        }
        .kpi-value {
            font-size: 1.75rem; /* text-2xl or 3xl */
            font-weight: 600;
            color: #1F2937; /* gray-800 */
        }
    </style>
</head>
<body class="min-h-screen">

    <header class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold" style="color: #A78BFA;">Palo Alto Networks (PANW) Analysis</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-1 lg:space-x-2">
                        <a href="#overview" class="nav-link">Overview</a>
                        <a href="#segments" class="nav-link">Business Segments</a>
                        <a href="#financials" class="nav-link">Financials</a>
                        <a href="#competition" class="nav-link">Competitive Moat</a>
                        <a href="#outlook" class="nav-link">Outlook</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-violet-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
            <div class="md:hidden hidden" id="mobile-menu">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                    <a href="#overview" class="nav-link block text-base">Overview</a>
                    <a href="#segments" class="nav-link block text-base">Business Segments</a>
                    <a href="#financials" class="nav-link block text-base">Financials</a>
                    <a href="#competition" class="nav-link block text-base">Competitive Moat</a>
                    <a href="#outlook" class="nav-link block text-base">Outlook</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-6 lg:p-8 mt-4">

        <section id="overview" class="section-card scroll-mt-20">
            <h2 class="section-title">Palo Alto Networks: Leading the Cybersecurity Platform Revolution</h2>
            <p class="content-text mb-6">Palo Alto Networks (NASDAQ: PANW) is a global cybersecurity leader that is reshaping the industry by moving away from fragmented point solutions to integrated, AI-powered platforms. As enterprises face an increasingly complex and hostile threat landscape, PANW's strategy is to provide comprehensive security across the network, the cloud, and the security operations center (SOC). This <span class="highlight">"platformization"</span> approach, driven by best-in-class technology and strategic acquisitions, aims to simplify security, improve outcomes, and lower the total cost of ownership for its customers, positioning PANW as a primary consolidator in the market.</p>
            
            <div class="grid md:grid-cols-2 gap-6 items-start">
                <div>
                    <h3 class="subsection-title !mt-0">Core Strategy: Consolidate and Automate</h3>
                    <p class="content-text mb-4">Under CEO Nikesh Arora, PANW's strategy is focused on building and scaling three integrated platforms:</p>
                    <ul class="list-disc list-inside content-text space-y-1 pl-4">
                        <li><strong class="font-semibold text-gray-700">Platform Integration:</strong> Provide comprehensive security through three unified platforms‚ÄîStrata, Prisma, and Cortex‚Äîto reduce complexity and eliminate security gaps.</li>
                        <li><strong class="font-semibold text-gray-700">AI-Driven Security:</strong> Leverage Precision AI‚Ñ¢ across all platforms to deliver high-fidelity automation, enabling superior threat detection, prevention, and response.</li>
                        <li><strong class="font-semibold text-gray-700">Cloud and SASE Leadership:</strong> Capitalize on the secular shifts to cloud computing and hybrid work with market-leading solutions in Prisma Cloud and Prisma SASE.</li>
                        <li><strong class="font-semibold text-gray-700">Strategic M&A:</strong> Acquire innovative technologies to accelerate the platform vision and expand into new, high-growth areas like AI security.</li>
                    </ul>
                </div>
                <div class="kpi-card bg-violet-50 border-violet-200">
                    <p class="kpi-label">Next-Gen Security ARR (Q3'25)</p>
                    <p class="kpi-value text-violet-600">$5.1 Billion</p>
                    <p class="content-text text-sm mt-2">Represents the annualized revenue of the high-growth Prisma and Cortex platforms, up 34% year-over-year, showcasing the success of the platform strategy.</p>
                </div>
            </div>
        </section>

        <section id="segments" class="section-card scroll-mt-20">
            <h2 class="section-title">How PANW Makes Money: Three Pillars of Security</h2>
            <p class="content-text mb-6">Palo Alto Networks has evolved from a next-generation firewall pioneer to a comprehensive security provider. Its business is now structured around three powerful, category-leading platforms that address the primary domains of enterprise security.</p>

            <div class="mb-6 border-b border-stone-200">
                <nav class="-mb-px flex space-x-4" aria-label="Tabs">
                    <button class="segment-tab-button active" data-target="strata">Strata (Network Security)</button>
                    <button class="segment-tab-button" data-target="prisma">Prisma (Cloud Security)</button>
                    <button class="segment-tab-button" data-target="cortex">Cortex (Security Operations)</button>
                </nav>
            </div>

            <div id="segmentDetails">
                <div id="strataContent" class="segment-content">
                    <h3 class="subsection-title">Strata: Securing the Enterprise Network</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <p class="content-text mb-2">Strata is the foundation of PANW's business, providing best-in-class network security. It encompasses physical and virtual Next-Generation Firewalls (NGFWs) and has evolved to include Prisma SASE (Secure Access Service Edge), which combines SD-WAN and a full cloud-delivered security stack to protect the modern hybrid workforce.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                <li><strong>Core Products:</strong> PA-Series & VM-Series Firewalls, Panorama, and subscription services (e.g., Threat Prevention, WildFire).</li>
                                <li><strong>Key Growth Driver:</strong> Prisma SASE, a leader in the Gartner¬Æ Magic Quadrant‚Ñ¢, secures users and branches everywhere.</li>
                             </ul>
                        </div>
                        <div class="kpi-card bg-sky-50 border-sky-200">
                            <p class="kpi-label">Market Position</p>
                            <p class="kpi-value text-sky-600">Leader in NGFW</p>
                            <p class="content-text text-sm mt-2">Recognized by Gartner as a long-standing leader in the Network Firewall Magic Quadrant, forming the bedrock of the company's success.</p>
                        </div>
                    </div>
                </div>
                <div id="prismaContent" class="segment-content hidden">
                    <h3 class="subsection-title">Prisma: Securing the Cloud</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">Prisma is the industry's most comprehensive Cloud-Native Application Protection Platform (CNAPP). It provides security across the full application lifecycle, from code to cloud. It helps organizations secure cloud infrastructure, workloads, and applications, regardless of the underlying public or private cloud provider.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                 <li><strong>Key Capabilities:</strong> Cloud Security Posture Management (CSPM), Cloud Workload Protection (CWP), and Cloud Network Security.</li>
                                 <li><strong>Strategic Importance:</strong> Caters to the massive secular trend of enterprise migration to the cloud, representing a huge addressable market.</li>
                             </ul>
                        </div>
                        <div class="kpi-card bg-teal-50 border-teal-200">
                             <p class="kpi-label">Industry Recognition</p>
                             <p class="kpi-value text-teal-600">#1 CNAPP Platform</p>
                             <p class="content-text text-sm mt-2">Prisma Cloud is widely regarded as the market-leading solution for cloud security, a critical component of the company's growth.</p>
                         </div>
                    </div>
                </div>
                 <div id="cortexContent" class="segment-content hidden">
                    <h3 class="subsection-title">Cortex: Automating the SOC</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div>
                            <p class="content-text mb-2">Cortex is an AI-driven security operations platform designed to create the "SOC of the future." It leverages machine learning to automate threat detection, investigation, and response. The flagship product, Cortex XSIAM (Extended Security Intelligence and Automation Management), aims to replace legacy SIEM tools, providing radical efficiency improvements for security teams.</p>
                             <ul class="list-disc list-inside content-text space-y-1 pl-4 mt-4">
                                 <li><strong>Flagship Product:</strong> Cortex XSIAM, unifying data from all sources to automate security operations.</li>
                                 <li><strong>Key Benefit:</strong> Dramatically reduces alert fatigue and response times by using AI to analyze vast amounts of data and identify critical threats.</li>
                             </ul>
                        </div>
                         <div class="kpi-card bg-orange-50 border-orange-200">
                             <p class="kpi-label">Customer Adoption</p>
                             <p class="kpi-value text-orange-600">Rapid XSIAM Growth</p>
                             <p class="content-text text-sm mt-2">Cortex XSIAM is one of the fastest-growing products in the company's history, disrupting the legacy security analytics market.</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="section-card scroll-mt-20">
            <h2 class="section-title">Financial Deep Dive</h2>
            <p class="content-text mb-6">Palo Alto Networks exhibits a strong financial profile, with robust top-line growth, expanding profitability, and impressive free cash flow generation. The company's transition towards a recurring, subscription-based revenue model has increased predictability and margin potential.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title">Fiscal Year Trends (FY22-FY24)</h3>
                    <div class="mb-4">
                        <label for="yearlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Annual Metric:</label>
                        <select id="yearlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                            <option value="totalRevenue" selected>Total Revenue ($B)</option>
                            <option value="operatingIncome">Non-GAAP Operating Income ($B)</option>
                        </select>
                    </div>
                    <div id="yearlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="yearlyFinancialChart"></canvas>
                    </div>
                </div>

                <div>
                    <h3 class="subsection-title">Quarterly Trends (Recent 8 Qtrs)</h3>
                     <div class="mb-4">
                        <label for="quarterlyMetricSelect" class="block text-sm font-medium text-gray-700 mb-1">Select Quarterly Metric:</label>
                        <select id="quarterlyMetricSelect" class="block w-full p-2 border border-stone-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500">
                             <option value="totalRevenue" selected>Total Revenue ($B)</option>
                             <option value="operatingIncome">Non-GAAP Operating Income ($M)</option>
                        </select>
                    </div>
                    <div id="quarterlyFinancialChartContainer" class="chart-container h-80 max-w-full">
                        <canvas id="quarterlyFinancialChart"></canvas>
                    </div>
                </div>
            </div>
             <p class="content-text text-sm mt-6 text-center">Financial charts demonstrate consistent execution, with strong revenue growth and a clear trend of operating leverage and improving profitability.</p>
        </section>

        <section id="competition" class="section-card scroll-mt-20">
            <h2 class="section-title">Competitive Moat: The Platform Advantage</h2>
            <p class="content-text mb-6">Palo Alto Networks' competitive moat is built on a foundation of technology leadership, deep customer integration, and the powerful network effects of its unified platforms, creating significant barriers to entry and high switching costs.</p>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0">Key Moats</h3>
                    <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Platform Integration & High Switching Costs:</strong> By consolidating network, cloud, and SOC security into integrated platforms, PANW creates a "sticky" ecosystem. As customers deploy more modules, the operational benefits increase, making it technologically and financially difficult to switch to a competitor.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Technology Leadership & AI:</strong> Consistent recognition as a leader by industry analysts (e.g., Gartner) and a first-mover advantage in applying AI (Cortex XSIAM) create a perception of superior technology that is difficult to replicate.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-violet-500 mr-2 mt-1">‚ûî</span>
                            <span class="content-text"><strong class="text-gray-700">Brand & Enterprise Trust:</strong> PANW is a trusted brand, particularly with large, complex organizations (serving 9 of the Fortune 10). This reputation for execution provides a significant advantage in large-scale security deployments.</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0">Primary Competitors</h3>
                     <ul class="list-none space-y-3">
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Fortinet (FTNT):</strong> A strong competitor in network security, particularly in the mid-market, competing directly with the Strata platform.</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">CrowdStrike (CRWD) & SentinelOne (S):</strong> Leaders in endpoint security that compete with parts of the Cortex portfolio.</span>
                        </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Zscaler (ZS):</strong> A key competitor in cloud-delivered security (SSE/SASE), competing directly with Prisma SASE.</span>
                         </li>
                         <li class="flex items-start">
                            <span class="text-sky-500 mr-2 mt-1">‚óè</span>
                            <span class="content-text"><strong class="text-gray-700">Broadcom (Cisco, Symantec) & Microsoft:</strong> Large, diversified technology giants with significant security businesses that compete across multiple fronts.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="outlook" class="section-card scroll-mt-20">
            <h2 class="section-title">Strategic Outlook: Risks & Rewards</h2>
            <p class="content-text mb-6">Palo Alto Networks is a premier asset in the cybersecurity space, benefiting from secular tailwinds and a clear strategic vision. The investment thesis hinges on its ability to continue executing its platform consolidation strategy against a backdrop of intense competition.</p>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="subsection-title !mt-0 text-teal-600">Rewards & Opportunities üöÄ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Vendor Consolidation:</strong> As a leading platform provider, PANW is a primary beneficiary as enterprises look to reduce the number of security vendors they manage, driving larger and more strategic deals.</li>
                        <li><strong>Massive Addressable Market:</strong> The company operates in the largest and fastest-growing segments of cybersecurity, including SASE, CNAPP, and AI-driven SecOps.</li>
                        <li><strong>Durable Growth & Profitability:</strong> The shift to a subscription model provides predictable, recurring revenue, while disciplined execution is driving significant operating margin expansion and free cash flow.</li>
                        <li><strong>AI Leadership:</strong> Cortex XSIAM has the potential to be a category-defining product that disrupts the multi-billion dollar legacy SIEM market.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="subsection-title !mt-0 text-orange-600">Risks & Challenges üìâ</h3>
                    <ul class="list-disc list-inside content-text space-y-2 pl-4">
                        <li><strong>Intense Competition:</strong> The cybersecurity market is fiercely competitive, with both established players and nimble, venture-backed startups vying for market share.</li>
                        <li><strong>Execution Risk:</strong> The "platformization" strategy is ambitious. Failure to effectively integrate acquired technologies or win large consolidation deals could slow growth.</li>
                        <li><strong>Macroeconomic Sensitivity:</strong> While cybersecurity spending is resilient, a significant global economic downturn could lead to elongated sales cycles and budget constraints for customers.</li>
                        <li><strong>High Valuation:</strong> PANW stock often trades at a premium valuation, reflecting high expectations. Any execution missteps could lead to significant stock price volatility.</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="bg-stone-800 text-stone-300 py-8 text-center mt-12">
            <p class="text-sm">&copy; <span id="currentYearFooter"></span> TickerHack Deep Research. For informational purposes only.</p>
            <p class="text-xs mt-1">Data synthesized from Palo Alto Networks, Inc. public filings (SEC reports) and credible financial data providers as of July 2025.</p>
        </footer>

    <script>
        document.getElementById('currentYearFooter').textContent = new Date().getFullYear();

        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-button');
        const mobileMenuEl = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenuEl.classList.toggle('hidden');
            mobileMenuBtn.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));
        });
        
        // Smooth scroll and active nav link highlighting
        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (mobileMenuEl && !mobileMenuEl.classList.contains('hidden')) {
                    mobileMenuBtn.click(); // Close mobile menu if open
                }
                navLinks.forEach(l => l.classList.remove('active'));
                e.currentTarget.classList.add('active');
            });
        });
        
        // Segment Tabs
        const segmentTabs = document.querySelectorAll('.segment-tab-button');
        const segmentContents = document.querySelectorAll('.segment-content');
        segmentTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                segmentTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                const targetId = tab.dataset.target + 'Content';
                segmentContents.forEach(content => {
                    content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                });
            });
        });

        // Chart.js Global Config
        Chart.defaults.font.family = "'Inter', sans-serif";
        Chart.defaults.color = '#4B5563';

        const CHART_COLORS = {
            violet: '#A78BFA',
            sky: '#7DD3FC',
            orange: '#FDBA74',
            teal: '#5EEAD4'
        };
        
        // --- FINANCIAL CHARTS LOGIC ---

        // Fiscal Year ends July 31
        const yearlyDataStore = {
            labels: ['FY22', 'FY23', 'FY24'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($B)', data: [5.50, 6.89, 8.03], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Billions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Non-GAAP Operating Income ($B)', data: [1.08, 1.63, 2.15], backgroundColor: CHART_COLORS.teal + 'BF', borderColor: CHART_COLORS.teal } ],
                yAxisLabel: 'Billions of USD'
            }
        };

        const quarterlyDataStore = {
            labels: ['Q4 23', 'Q1 24', 'Q2 24', 'Q3 24', 'Q4 24', 'Q1 25', 'Q2 25', 'Q3 25'],
            totalRevenue: {
                datasets: [ { label: 'Total Revenue ($B)', data: [1.95, 1.88, 1.98, 1.98, 2.16, 2.11, 2.22, 2.29], backgroundColor: CHART_COLORS.violet + 'BF', borderColor: CHART_COLORS.violet } ],
                yAxisLabel: 'Billions of USD'
            },
            operatingIncome: {
                datasets: [ { label: 'Non-GAAP Operating Income ($M)', data: [513, 471, 584, 515, 631, 595, 626, 646], backgroundColor: CHART_COLORS.teal + 'BF', borderColor: CHART_COLORS.teal } ],
                yAxisLabel: 'Millions of USD'
            }
        };

        let yearlyChart = null;
        let quarterlyChart = null;
        const yearlySelect = document.getElementById('yearlyMetricSelect');
        const quarterlySelect = document.getElementById('quarterlyMetricSelect');
        const yearlyCanvas = document.getElementById('yearlyFinancialChart').getContext('2d');
        const quarterlyCanvas = document.getElementById('quarterlyFinancialChart').getContext('2d');

        function createChart(canvas, existingChart, dataStore, metricKey) {
            if (existingChart) {
                existingChart.destroy();
            }
            const metricDetails = dataStore[metricKey];

            return new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: dataStore.labels,
                    datasets: metricDetails.datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {},
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: metricDetails.yAxisLabel
                            },
                        }
                    }
                }
            });
        }
        
        yearlySelect.addEventListener('change', (event) => {
            yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, event.target.value);
        });

        quarterlySelect.addEventListener('change', (event) => {
            quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, event.target.value);
        });

        // Initial chart renders
        yearlyChart = createChart(yearlyCanvas, yearlyChart, yearlyDataStore, 'totalRevenue');
        quarterlyChart = createChart(quarterlyCanvas, quarterlyChart, quarterlyDataStore, 'totalRevenue');

    </script>
</body>
</html>

